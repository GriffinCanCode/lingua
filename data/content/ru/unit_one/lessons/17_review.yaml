# Unit 1, Lesson 17: Review & Checkpoint
# 5 modules - Comprehensive review of Unit 1

lesson:
  id: "17_review"
  title: "Review & Checkpoint"
  subtitle: "Master everything from Unit 1"
  icon: "trophy"

modules:
  - id: "mod_1"
    title: "Review: Letters & Words"
    type: "intro"
    
    teaching:
      - type: "summary"
        title: "Cyrillic Letters"
        points:
          - "Cognate letters: А, К, М, О, Т (same as English)"
          - "False friends: Р=R, С=S, Н=N, В=V"
          - "New letters: Д, Б, Г, Л, П, Ш, Ж..."
          - "Soft sign Ь - makes consonants soft"
      
      - type: "pattern_table"
        title: "Quick Reference"
        columns: ["Looks like", "Actually"]
        rows:
          - ["Р", "R"]
          - ["С", "S"]
          - ["Н", "N"]
          - ["В", "V"]
          - ["У", "OO"]
    
    vocab_pool:
      introduce: []
      practice: []
      review: [mama, kot, taksi, metro, restoran, voda]
    exercises:
      count: 8
      types:
        - { type: "translation_ru_en", count: 2 }   # Reading review
        - { type: "audio_recognition", count: 2 }   # Sound review (false friends)
        - { type: "multiple_choice", count: 2 }     # Letter sound quiz
        - { type: "matching", count: 2 }            # Cyrillic to sound

  - id: "mod_2"
    title: "Review: Verbs"
    type: "learn"
    
    teaching:
      - type: "summary"
        title: "Verb Conjugation"
        points:
          - "Type 1: -ю, -ешь, -ет, -ем, -ете, -ют (знать, понима́ть, чита́ть, де́лать, рабо́тать)"
          - "Type 2: -ю, -ишь, -ит, -им, -ите, -ят (говори́ть, ви́деть)"
          - "Irregular: хоте́ть (mixed), жить (в- stem), есть (eat), пить (soft stem)"
      
      - type: "pattern_table"
        title: "Key Verbs"
        columns: ["Verb", "Я", "Ты", "Он/Она́"]
        rows:
          - ["знать", "зна́ю", "зна́ешь", "зна́ет"]
          - ["де́лать", "де́лаю", "де́лаешь", "де́лает"]
          - ["чита́ть", "чита́ю", "чита́ешь", "чита́ет"]
          - ["говори́ть", "говорю́", "говори́шь", "говори́т"]
          - ["ви́деть", "ви́жу", "ви́дишь", "ви́дит"]
          - ["хоте́ть", "хочу́", "хо́чешь", "хо́чет"]
          - ["жить", "живу́", "живёшь", "живёт"]
          - ["есть (eat)", "ем", "ешь", "ест"]
          - ["пить", "пью", "пьёшь", "пьёт"]
    
    vocab_pool:
      introduce: []
      practice: []
      review: [znat, ponimat, chitat, delat, govorit, videt, khotet, zhit, rabotat, yest_eat, pit]
    exercises:
      count: 10
      types:
        - { type: "fill_in_blank", count: 4 }       # All verb conjugations
        - { type: "translation_en_ru", count: 3 }   # Produce verb sentences
        - { type: "translation_ru_en", count: 2 }   # Comprehension
        - { type: "multiple_choice", count: 1 }     # Type recognition

  - id: "mod_3"
    title: "Review: Grammar"
    type: "pattern"
    
    teaching:
      - type: "summary"
        title: "Key Grammar Points"
        points:
          - "No 'is/am/are' in present tense"
          - "Gender: masculine (-consonant), feminine (-а), neuter (-о)"
          - "Pronouns match gender: он, она́, оно́"
          - "У меня́ есть = I have"
          - "Questions = rising intonation"
      
      - type: "morphology_pattern"
        title: "The Big Patterns"
        formula: "Subject + predicate (no 'is')"
        examples:
          - { ru: "Я студе́нт.", en: "I am a student." }
          - { ru: "Э́то мой дом.", en: "This is my house." }
          - { ru: "У меня́ есть кот.", en: "I have a cat." }
          - { ru: "Я говорю́ по-ру́сски.", en: "I speak Russian." }
        rule: "Russian grammar is logical - trust the patterns!"
    
    vocab_pool:
      introduce: []
      practice: []
      review: [ya, student, dom, moy, u_menya, yest, kot, on, ona, ono, govorit, po_russki]
    exercises:
      count: 12
      difficulty: "medium"
      types:
        - { type: "fill_in_blank", count: 4 }       # Grammar patterns
        - { type: "translation_en_ru", count: 3 }   # Production
        - { type: "translation_ru_en", count: 3 }   # Comprehension
        - { type: "multiple_choice", count: 2 }     # Pattern recognition

  - id: "mod_4"
    title: "Test"
    type: "practice"
    teaching:
      - type: "explanation"
        title: "Final Test"
        content: |
          This is your checkpoint test!
          
          You'll be tested on:
          - Reading Cyrillic
          - Basic vocabulary
          - Gender agreement
          - Verb conjugation (11 verbs!)
          - Question/answer patterns (где, кто, что, как, когда́)
          - Time words (сейча́с, сего́дня, за́втра, вчера́)
          - Possessives
          - Conjunctions (и, и́ли, но)
    vocab_pool:
      introduce: []
      practice: []
      review: [mama, kot, dom, kniga, okno, on, ona, gde, kto, chto, kak, kogda, da, nyet, i, ili, no, privet, spasibo, pozhaluysta, u_menya, znat, chitat, delat, govorit, videt, khotet, yest_eat, pit, kofe, voda, seychas, segodnya, zavtra, vchera]
    exercises:
      count: 15
      difficulty: "hard"
      types:
        - { type: "translation_en_ru", count: 5 }   # Production test
        - { type: "translation_ru_en", count: 4 }   # Comprehension test
        - { type: "fill_in_blank", count: 3 }       # Grammar test
        - { type: "audio_recognition", count: 2 }   # Listening test
        - { type: "multiple_choice", count: 1 }     # Quick quiz

  - id: "mod_5"
    title: "Crown"
    type: "master"
    teaching:
      - type: "explanation"
        title: "Unit 1 Complete!"
        content: |
          Congratulations! You've completed Unit 1: Foundations!
          
          You can now:
          - Read Russian using Cyrillic letters
          - Introduce yourself and greet people (спаси́бо, пожа́луйста!)
          - Ask and answer basic questions (где, кто, что, как, когда́)
          - Talk about time (сейча́с, сего́дня, за́втра, вчера́)
          - Talk about what you have
          - Describe things using adjectives
          - Count to 10
          - Conjugate 11 verbs in present tense!
          - Talk about eating and drinking!
      
      - type: "summary"
        title: "Your Achievements"
        points:
          - "~100 vocabulary words learned"
          - "11 verbs conjugated (знать, понима́ть, чита́ть, де́лать, говори́ть, ви́деть, хоте́ть, жить, рабо́тать, есть, пить)"
          - "5 question words (где, кто, что, как, когда́)"
          - "4 time words (сейча́с, сего́дня, за́втра, вчера́)"
          - "6 core grammar patterns mastered"
          - "Culture: patronymics, ты vs вы"
          - "Ready for Unit 2: Everyday Life!"
    vocab_pool:
      introduce: []
      practice: []
      review: [mama, kot, dom, taksi, metro, privet, zdravstvuyte, spasibo, pozhaluysta, da, nyet, i, ili, no, gde, kto, chto, kak, kogda, zdes, u_menya, moy, bolshoy, znat, ponimat, chitat, delat, govorit, videt, khotet, zhit, rabotat, yest_eat, pit, seychas, segodnya, zavtra, vchera]
    exercises:
      count: 15
      difficulty: "hard"
      types:
        - { type: "translation_en_ru", count: 5 }   # Final production mastery
        - { type: "translation_ru_en", count: 4 }   # Final comprehension
        - { type: "fill_in_blank", count: 3 }       # Final grammar check
        - { type: "audio_recognition", count: 2 }   # Final listening
        - { type: "multiple_choice", count: 1 }     # Final quiz

vocab_filter:
  primary: []
  review_from: [03_cognates, 04_hello, 05_false_friends, 06_pronunciation, 07_questions, 08_gender, 09_type1_verbs, 10_possession, 11_type2_verbs, 12_where_who_what, 13_irregular_verbs, 14_possessives, 15_numbers, 16_adjectives]

templates:
  - pattern: "Э́то {NOUN}."
    translation: "This is {NOUN.a}."
    slots:
      NOUN: { pos: [noun], exclude_ids: [mama, papa] }
    weight: 2

  - pattern: "Э́то {NOUN}."
    translation: "This is {NOUN.translation}."
    slots:
      NOUN: { ids: [mama, papa] }
    weight: 2

  - pattern: "Где {NOUN}?"
    translation: "Where is {NOUN.the}?"
    slots:
      NOUN: { pos: [noun], exclude_ids: [mama, papa] }
    weight: 2

  - pattern: "У меня́ есть {NOUN}."
    translation: "I have {NOUN.a}."
    slots:
      NOUN: { pos: [noun], exclude_ids: [mama, papa] }
    weight: 2

  - pattern: "Я {VERB_1SG}."
    translation: "I {VERB.translation}."
    slots:
      VERB_1SG: { pos: [verb], form: "1sg" }
    weight: 2

  - pattern: "Э́то мой {NOUN_M}."
    translation: "This is my {NOUN_M.translation}."
    slots:
      NOUN_M: { pos: [noun], gender: [m] }
    weight: 2

dialogues:
  - id: "full_introduction"
    context: "Meeting someone new"
    lines:
      - { speaker: "A", ru: "Здра́вствуйте!", en: "Hello!" }
      - { speaker: "B", ru: "Здра́вствуйте! Как вас зову́т?", en: "Hello! What is your name?" }
      - { speaker: "A", ru: "Меня́ зову́т Ива́н. А вас?", en: "My name is Ivan. And yours?" }
      - { speaker: "B", ru: "О́чень прия́тно! Меня́ зову́т Мари́я.", en: "Nice to meet you! My name is Maria." }

  - id: "about_yourself"
    context: "Talking about yourself"
    lines:
      - { speaker: "A", ru: "Где ты живёшь?", en: "Where do you live?" }
      - { speaker: "B", ru: "Я живу́ в Москве́. А ты?", en: "I live in Moscow. And you?" }
      - { speaker: "A", ru: "Я то́же живу́ в Москве́!", en: "I live in Moscow too!" }
      - { speaker: "B", ru: "Здо́рово! Где ты рабо́таешь?", en: "Cool! Where do you work?" }
      - { speaker: "A", ru: "Я рабо́таю в рестора́не. Сего́дня и за́втра.", en: "I work at a restaurant. Today and tomorrow." }

  - id: "making_plans"
    context: "Planning when to meet"
    lines:
      - { speaker: "A", ru: "Когда́ ты до́ма?", en: "When are you home?" }
      - { speaker: "B", ru: "Сейча́с я на рабо́те. За́втра до́ма.", en: "Now I'm at work. Tomorrow at home." }
      - { speaker: "A", ru: "Хорошо́! До за́втра!", en: "Good! See you tomorrow!" }
      - { speaker: "B", ru: "До за́втра!", en: "See you tomorrow!" }

  - id: "final_goodbye"
    context: "Saying goodbye"
    lines:
      - { speaker: "A", ru: "Ну, мне пора́.", en: "Well, I have to go." }
      - { speaker: "B", ru: "Ла́дно. До свида́ния!", en: "Alright. Goodbye!" }
      - { speaker: "A", ru: "Пока́! Спаси́бо за всё!", en: "Bye! Thanks for everything!" }
      - { speaker: "B", ru: "Пожа́луйста!", en: "You're welcome!" }
