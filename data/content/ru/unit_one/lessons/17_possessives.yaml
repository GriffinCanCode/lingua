# Unit 1, Lesson 17: My, Your, Our
# 5 modules - Possessive pronouns

lesson:
  id: "17_possessives"
  title: "My, Your, Our"
  subtitle: "Talk about what belongs to whom"
  icon: "heart"

modules:
  - id: "mod_1"
    title: "Мой / Моя́"
    type: "intro"
    
    teaching:
      - type: "explanation"
        title: "My (Changes by Gender)"
        content: |
          Russian possessives change to match the noun's gender!
          
          мой = my (masculine)
          моя́ = my (feminine) - stress on last syllable
          моё = my (neuter) - Ё always stressed
      
      - type: "word_intro"
        words:
          - word: "мой"
            translation: "my (masculine)"
            note: "мой дом, мой кот"
          - word: "моя́"
            translation: "my (feminine)"
            note: "моя́ кни́га, моя́ ма́ма. Stress on last syllable."
          - word: "моё"
            translation: "my (neuter)"
            note: "моё окно́. Ё is always stressed."
      
      - type: "morphology_pattern"
        title: "Gender Agreement"
        formula: "мой/моя́/моё + {NOUN} (matching gender)"
        examples:
          - { ru: "Э́то мой дом.", en: "This is my house." }
          - { ru: "Э́то моя́ кни́га.", en: "This is my book." }
          - { ru: "Э́то моё окно́.", en: "This is my window." }
        rule: "The possessive must match the gender of what is possessed!"
    
    vocab_pool:
      introduce: [moy, moya, moyo]
      practice: []
      review: [dom, kniga, okno]
    exercises:
      count: 6
      types:
        - { type: "fill_in_blank", count: 2 }       # мой/моя́/моё choice
        - { type: "multiple_choice", count: 2 }     # Gender agreement
        - { type: "translation_ru_en", count: 2 }   # Comprehension

  - id: "mod_2"
    title: "Твой - Your (Informal)"
    type: "learn"
    
    teaching:
      - type: "explanation"
        title: "Your (Singular)"
        content: |
          Твой follows the same pattern as мой!
          
          твой = your (masculine)
          твоя́ = your (feminine)
          твоё = your (neuter)
      
      - type: "word_intro"
        words:
          - word: "твой"
            translation: "your (masc., informal)"
          - word: "твоя́"
            translation: "your (fem., informal)"
          - word: "твоё"
            translation: "your (neut., informal)"
      
      - type: "tip"
        content: "Use твой with people you call 'ты' - friends, family, children."
    
    vocab_pool:
      introduce: []
      practice: [moy, moya, moyo, ty]
      review: [dom, kniga, okno]
    exercises:
      count: 7
      types:
        - { type: "fill_in_blank", count: 3 }       # твой/твоя́/твоё
        - { type: "translation_en_ru", count: 2 }   # Production
        - { type: "multiple_choice", count: 2 }     # Gender agreement

  - id: "mod_3"
    title: "Наш - Our"
    type: "pattern"
    
    teaching:
      - type: "word_intro"
        words:
          - word: "наш"
            translation: "our (masculine)"
          - word: "на́ша"
            translation: "our (feminine)"
          - word: "на́ше"
            translation: "our (neuter)"
      
      - type: "pattern_table"
        title: "All Possessives"
        columns: ["Person", "Masculine", "Feminine", "Neuter"]
        rows:
          - ["I", "мой", "моя́", "моё"]
          - ["You (inf)", "твой", "твоя́", "твоё"]
          - ["We", "наш", "на́ша", "на́ше"]
      
      - type: "morphology_pattern"
        title: "The Pattern"
        formula: "Possessive agrees with POSSESSED noun, not possessor"
        examples:
          - { ru: "Э́то наш дом.", en: "This is our house." }
          - { ru: "Э́то на́ша маши́на.", en: "This is our car." }
          - { ru: "Где твоя́ кни́га?", en: "Where is your book?" }
        rule: "Look at what is owned, not who owns it, to pick the ending."
    
    vocab_pool:
      introduce: []
      practice: [moy, moya, moyo, my]
      review: [dom, kniga, mashina]
    exercises:
      count: 8
      types:
        - { type: "fill_in_blank", count: 3 }       # All possessives
        - { type: "translation_en_ru", count: 2 }   # Production
        - { type: "translation_ru_en", count: 2 }   # Comprehension
        - { type: "multiple_choice", count: 1 }     # Pattern recognition

  - id: "mod_4"
    title: "Practice"
    type: "practice"
    teaching:
      - type: "tip"
        content: "Practice with things around you: Э́то мой телефо́н. Э́то моя́ кни́га. Э́то моё..."
      
      - type: "explanation"
        title: "Mixing It Up"
        content: |
          Now combine possessives with:
          - Negation: Э́то не моя́ кни́га.
          - Questions: Где твой кот?
          - Verbs: Я ви́жу твою́ маши́ну.
    vocab_pool:
      introduce: []
      practice: [moy, moya, moyo, dom, kniga, okno, mashina]
      review: [telefon, kot, sobaka, videt, znat, khotet, gde]
    exercises:
      count: 14
      difficulty: "medium"
      types:
        - { type: "fill_in_blank", count: 4 }       # Gender agreement drills
        - { type: "translation_en_ru", count: 4 }   # Multi-grammar production
        - { type: "translation_ru_en", count: 3 }   # Comprehension
        - { type: "error_correction", count: 2 }    # Spot the mistake
        - { type: "multiple_choice", count: 1 }     # Quick recognition

  - id: "mod_5"
    title: "Master"
    type: "master"
    teaching:
      - type: "summary"
        title: "You learned:"
        points:
          - "мой/моя́/моё = my (by gender)"
          - "твой/твоя́/твоё = your (informal)"
          - "наш/на́ша/на́ше = our"
          - "Possessive matches the possessed noun's gender"
      
      - type: "tip"
        content: "Challenge mode! These exercises combine multiple grammar points."
    vocab_pool:
      introduce: []
      practice: []
      review: [moy, moya, moyo, dom, kniga, okno, mashina, telefon, kot, sobaka, znat, videt, khotet, gde, chto]
    exercises:
      count: 18
      difficulty: "hard"
      timed: true
      types:
        - { type: "fill_in_blank", count: 5 }       # Possessive + verb blanks
        - { type: "translation_en_ru", count: 5 }   # Multi-grammar production
        - { type: "translation_ru_en", count: 3 }   # Comprehension
        - { type: "error_correction", count: 3 }    # Spot the mistake
        - { type: "multiple_choice", count: 2 }     # Pattern mastery

vocab_filter:
  primary: [moy, moya, moyo]
  review_from: [08_gender, 11_possession, 16_irregular_verbs]

templates:
  - pattern: "Э́то {POSS} {NOUN}."
    translation: "This is {POSS.translation} {NOUN.translation}."
    slots:
      POSS: { pos: [pronoun] }
      NOUN: { pos: [noun] }
    weight: 4

  - pattern: "Где {POSS} {NOUN}?"
    translation: "Where is {POSS.translation} {NOUN.translation}?"
    slots:
      POSS: { pos: [pronoun] }
      NOUN: { pos: [noun] }
    weight: 3

  - pattern: "Э́то мой дом."
    translation: "This is my house."
    slots: {}
    weight: 3

  - pattern: "Э́то моя́ кни́га."
    translation: "This is my book."
    slots: {}
    weight: 3

  - pattern: "Э́то твой {NOUN}?"
    translation: "Is this your {NOUN.translation}?"
    slots:
      NOUN: { pos: [noun], gender: [masculine] }
    weight: 3

  - pattern: "Э́то твоя́ {NOUN}?"
    translation: "Is this your {NOUN.translation}?"
    slots:
      NOUN: { pos: [noun], gender: [feminine] }
    weight: 3

  - pattern: "Нет, э́то не моя́ кни́га."
    translation: "No, this is not my book."
    slots: {}
    weight: 3

  - pattern: "Э́то наш дом."
    translation: "This is our house."
    slots: {}
    weight: 3

  - pattern: "Э́то на́ша маши́на."
    translation: "This is our car."
    slots: {}
    weight: 3

  - pattern: "{POSS} {NOUN} {LOCATION}."
    translation: "{POSS.translation} {NOUN.translation} is {LOCATION.translation}."
    slots:
      POSS: { pos: [pronoun] }
      NOUN: { pos: [noun] }
      LOCATION: { pos: [adverb], semantic: [location] }
    weight: 2

  # Multi-grammar challenge templates (possessive + verb)
  - pattern: "Я ви́жу {POSS} {NOUN}."
    translation: "I see {POSS.translation} {NOUN.translation}."
    slots:
      POSS: { pos: [pronoun] }
      NOUN: { pos: [noun] }
    weight: 3

  - pattern: "Ты зна́ешь, где моя́ кни́га?"
    translation: "Do you know where my book is?"
    slots: {}
    weight: 4

  - pattern: "Он не ви́дит {POSS} {NOUN}."
    translation: "He doesn't see {POSS.translation} {NOUN.translation}."
    slots:
      POSS: { pos: [pronoun], gender: [feminine] }
      NOUN: { pos: [noun], gender: [feminine] }
    weight: 3

  - pattern: "Она́ хо́чет твой {NOUN}."
    translation: "She wants your {NOUN.translation}."
    slots:
      NOUN: { pos: [noun], gender: [masculine] }
    weight: 3

  - pattern: "Где на́ша маши́на? Я не зна́ю."
    translation: "Where is our car? I don't know."
    slots: {}
    weight: 4

  - pattern: "Э́то не моя́ кни́га, э́то твоя́."
    translation: "This is not my book, it's yours."
    slots: {}
    weight: 4

  - pattern: "Наш кот до́ма, а твой?"
    translation: "Our cat is at home, and yours?"
    slots: {}
    weight: 4

  - pattern: "Я хочу́ ви́деть твою́ маши́ну."
    translation: "I want to see your car."
    slots: {}
    weight: 3

  - pattern: "Он не зна́ет, где мой дом."
    translation: "He doesn't know where my house is."
    slots: {}
    weight: 4

# Error correction examples (correct/incorrect pairs for practice)
error_corrections:
  - incorrect: "Э́то моя́ дом."
    correct: "Э́то мой дом."
    error_type: "gender_agreement"
    explanation: "дом is masculine, use мой not моя́"

  - incorrect: "Э́то твой кни́га."
    correct: "Э́то твоя́ кни́га."
    error_type: "gender_agreement"
    explanation: "кни́га is feminine, use твоя́ not твой"

  - incorrect: "Где на́ша окно́?"
    correct: "Где на́ше окно́?"
    error_type: "gender_agreement"
    explanation: "окно́ is neuter, use на́ше not на́ша"

  - incorrect: "Э́то моё маши́на."
    correct: "Э́то моя́ маши́на."
    error_type: "gender_agreement"
    explanation: "маши́на is feminine, use моя́ not моё"

  - incorrect: "Я ви́жу твой кни́га."
    correct: "Я ви́жу твою́ кни́гу."
    error_type: "case_agreement"
    explanation: "After ви́деть use accusative: твою́ кни́гу"

  - incorrect: "Мой кот большо́й, а твоя́?"
    correct: "Мой кот большо́й, а твой?"
    error_type: "gender_agreement"
    explanation: "Referring back to кот (masculine), use твой"

dialogues:
  - id: "whose_book"
    context: "Finding the owner"
    lines:
      - { speaker: "A", ru: "Э́то твоя́ кни́га?", en: "Is this your book?" }
      - { speaker: "B", ru: "Нет, э́то не моя́ кни́га.", en: "No, this is not my book." }
      - { speaker: "A", ru: "А чья э́то кни́га?", en: "Then whose book is it?" }

  - id: "my_house"
    context: "Showing your home"
    lines:
      - { speaker: "A", ru: "Э́то наш дом.", en: "This is our house." }
      - { speaker: "B", ru: "Большо́й дом!", en: "Big house!" }
      - { speaker: "A", ru: "Да, и моя́ маши́на там.", en: "Yes, and my car is there." }

  # Complex multi-grammar dialogues
  - id: "lost_items"
    context: "Looking for lost belongings"
    lines:
      - { speaker: "A", ru: "Ты не зна́ешь, где моя́ кни́га?", en: "Do you know where my book is?" }
      - { speaker: "B", ru: "Нет, я не ви́жу твою́ кни́гу.", en: "No, I don't see your book." }
      - { speaker: "A", ru: "А мой телефо́н?", en: "And my phone?" }
      - { speaker: "B", ru: "Твой телефо́н там, на столе́.", en: "Your phone is there, on the table." }
      - { speaker: "A", ru: "Спаси́бо! А где на́ша маши́на?", en: "Thanks! And where is our car?" }

  - id: "comparing_things"
    context: "Comparing possessions"
    lines:
      - { speaker: "A", ru: "Мой кот большо́й. А твой?", en: "My cat is big. And yours?" }
      - { speaker: "B", ru: "Мой кот ма́ленький, но хоро́ший.", en: "My cat is small, but good." }
      - { speaker: "A", ru: "Я хочу́ ви́деть твоего́ кота́!", en: "I want to see your cat!" }
      - { speaker: "B", ru: "Ла́дно, он до́ма.", en: "OK, he's at home." }

  - id: "family_visit"
    context: "Visiting family"
    lines:
      - { speaker: "A", ru: "Э́то на́ша кварти́ра.", en: "This is our apartment." }
      - { speaker: "B", ru: "Где твоя́ ко́мната?", en: "Where is your room?" }
      - { speaker: "A", ru: "Моя́ ко́мната там. А э́то на́ша ку́хня.", en: "My room is there. And this is our kitchen." }
      - { speaker: "B", ru: "Я ви́жу твою́ соба́ку!", en: "I see your dog!" }
      - { speaker: "A", ru: "Да, э́то мой Ша́рик.", en: "Yes, this is my Sharik." }
